<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ìœ„ì‹œë¦¬ìŠ¤íŠ¸ í˜ì´ì§€ â€” ë£¨ë¯¸ ìŠ¤íƒ€ì¼</title>
  <style>
    /* ë ˆë“œ + í™”ì´íŠ¸ í…Œë§ˆ (ì‚¬ìš©ì ì„ í˜¸) */
    :root{
      --red:#DC0630;
      --white:#ffffff;
      --muted:#f8f6f6;
      --card-radius:12px;
      --gap:12px;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Noto Sans KR', sans-serif;
    }
    body{background:linear-gradient(180deg,var(--white),var(--muted));margin:0;min-height:100vh;display:flex;align-items:center;justify-content:center;padding:28px}
    .wrap{width:100%;max-width:980px}
    header{display:flex;align-items:center;gap:12px;margin-bottom:18px}
    .logo{background:var(--red);color:var(--white);padding:10px 14px;border-radius:10px;font-weight:800;box-shadow:0 6px 18px rgba(220,6,48,0.12)}
    h1{margin:0;font-size:20px}
    .sub{color:#4a4a4a;font-size:13px}

    .grid{display:grid;grid-template-columns:1fr 360px;gap:18px}

    /* ì¹´ë“œ */
    .card{background:var(--white);padding:16px;border-radius:var(--card-radius);box-shadow:0 8px 24px rgba(0,0,0,0.06)}

    /* ìœ„ì‹œë¦¬ìŠ¤íŠ¸ */
    .wish-list{display:flex;flex-direction:column;gap:10px}
    .wish-item{display:flex;gap:12px;align-items:center;padding:10px;border-radius:10px;border:1px solid #fde0e6}
    .thumb{width:74px;height:74px;border-radius:8px;background:#fff;display:flex;align-items:center;justify-content:center;font-size:12px;color:#888}
    .meta{flex:1}
    .title{font-weight:700}
    .price{color:var(--red);font-weight:800}
    .actions{display:flex;gap:8px}
    button{cursor:pointer;border:0;padding:8px 10px;border-radius:8px;font-weight:700}
    .btn-red{background:var(--red);color:var(--white)}
    .btn-light{background:#fff;border:1px solid #eee}

    /* ì‚¬ì´ë“œ ë°” */
    .sidebar h3{margin-top:0}
    .form-row{display:flex;gap:8px;margin-bottom:8px}
    input[type=text]{flex:1;padding:10px;border-radius:8px;border:1px solid #eee}
    .small{font-size:13px;color:#666}

    /* ë¹ˆ ìƒíƒœ */
    .empty{padding:28px;text-align:center;color:#777}

    /* ë°˜ì‘í˜• */
    @media (max-width:880px){
      .grid{grid-template-columns:1fr}
      .sidebar{order:-1}
    }

    /* ê°„ë‹¨í•œ ì• ë‹ˆë©”ì´ì…˜ */
    .fade-in{animation:fadeIn .28s ease}
    @keyframes fadeIn{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:none}}

    /* í…Œì´ë¸” ëŠë‚Œì˜ ìš”ì•½ */
    .summary{display:flex;gap:8px;align-items:center;justify-content:space-between}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="logo">WISH ğŸš€</div>
      <div>
        <h1>ìœ„ì‹œë¦¬ìŠ¤íŠ¸ í˜ì´ì§€ â€” ì·¨í–¥ í­ë°œ! ğŸ‘§ğŸ»âœ¨</h1>
        <div class="sub">ì•„ì´í…œ ì¶”ê°€ / ì‚­ì œ / ë¡œì»¬ ì €ì¥ê¹Œì§€ â€” ê°€ë³ê²Œ ì¨ë´ğŸ’•</div>
      </div>
    </header>

    <div class="grid">
      <section class="card">
        <div class="summary" style="margin-bottom:10px">
          <strong>ë‚´ ìœ„ì‹œë¦¬ìŠ¤íŠ¸</strong>
          <div class="small">ì´ <span id="total-count">0</span>ê°œ</div>
        </div>

        <div id="wishList" class="wish-list">
          <div class="empty" id="emptyMsg">ìœ„ì‹œë¦¬ìŠ¤íŠ¸ê°€ ë¹„ì–´ìˆì–´ìš”. ì˜¤ë¥¸ìª½ì—ì„œ ì¶”ê°€í•´ë´ìš”! ğŸ’Œ</div>
        </div>
      </section>

      <aside class="card sidebar">
        <h3>ì•„ì´í…œ ì¶”ê°€ âœ¨</h3>
        <div class="form-row">
          <input id="input-title" type="text" placeholder="ìƒí’ˆëª… ì…ë ¥ (ì˜ˆ: ê·€ì—¬ìš´ í‚¤ë§)" />
        </div>
        <div class="form-row">
          <input id="input-price" type="text" placeholder="ê°€ê²© ì…ë ¥ (ìˆ«ìë§Œ)" />
        </div>
        <div class="form-row">
          <input id="input-img" type="text" placeholder="ì´ë¯¸ì§€ URL (ì„ íƒ)" />
        </div>
        <div style="display:flex;gap:8px;margin-bottom:12px">
          <button id="addBtn" class="btn-red">ì¶”ê°€í•˜ê¸° â¤ï¸</button>
          <button id="clearBtn" class="btn-light">ì „ì²´ ì‚­ì œ</button>
        </div>

        <hr />
        <h3>ì •ë ¬ & ê²€ìƒ‰ ğŸ”</h3>
        <div class="form-row">
          <select id="sortSelect">
            <option value="new">ìµœì‹ ìˆœ</option>
            <option value="price-asc">ê°€ê²©â†‘</option>
            <option value="price-desc">ê°€ê²©â†“</option>
          </select>
          <input id="searchInput" type="text" placeholder="ê²€ìƒ‰ì–´" />
        </div>

        <hr />
        <h3>ìš”ì•½</h3>
        <div style="display:flex;flex-direction:column;gap:8px">
          <div class="small">ì´ ì•„ì´í…œ: <strong id="count">0</strong></div>
          <div class="small">ì„ íƒëœ í•©ê³„: <strong id="sum">0</strong>ì›</div>
          <div class="small">(ëª¨ë“  ë°ì´í„°ëŠ” ì´ ë¸Œë¼ìš°ì €ì˜ ë¡œì»¬ìŠ¤í† ë¦¬ì§€ì— ì €ì¥ë©ë‹ˆë‹¤)</div>
        </div>

      </aside>
    </div>
  </div>

  <script>
    // ê°„ë‹¨í•œ ìœ„ì‹œë¦¬ìŠ¤íŠ¸ ë¡œì§ (localStorage ê¸°ë°˜)
    const LS_KEY = 'lumi_wishlist_v1';
    const el = {
      wishList: document.getElementById('wishList'),
      totalCount: document.getElementById('total-count'),
      count: document.getElementById('count'),
      sum: document.getElementById('sum'),
      emptyMsg: document.getElementById('emptyMsg'),
      inputTitle: document.getElementById('input-title'),
      inputPrice: document.getElementById('input-price'),
      inputImg: document.getElementById('input-img'),
      addBtn: document.getElementById('addBtn'),
      clearBtn: document.getElementById('clearBtn'),
      sortSelect: document.getElementById('sortSelect'),
      searchInput: document.getElementById('searchInput')
    };

    let list = load();

    function save(){
      localStorage.setItem(LS_KEY, JSON.stringify(list));
    }
    function load(){
      try{
        const raw = localStorage.getItem(LS_KEY);
        if(!raw) return [];
        return JSON.parse(raw);
      }catch(e){console.error(e); return []}
    }

    function uid(){return Date.now().toString(36) + Math.random().toString(36).slice(2,6)}

    function render(){
      // ì •ë ¬, ê²€ìƒ‰ ì ìš©
      const q = el.searchInput.value.trim().toLowerCase();
      const sort = el.sortSelect.value;
      let out = [...list];
      if(q) out = out.filter(i=>i.title.toLowerCase().includes(q));
      if(sort==='price-asc') out.sort((a,b)=>a.price-b.price);
      if(sort==='price-desc') out.sort((a,b)=>b.price-a.price);
      if(sort==='new') out.sort((a,b)=>b.created - a.created);

      el.wishList.innerHTML='';
      if(out.length===0){ el.emptyMsg.style.display='block'; } else { el.emptyMsg.style.display='none'; }

      let selectedSum = 0;
      out.forEach(item=>{
        const row = document.createElement('div');
        row.className = 'wish-item fade-in';

        const thumb = document.createElement('div');
        thumb.className='thumb';
        if(item.img){ const img = document.createElement('img'); img.src=item.img; img.alt=item.title; img.style.width='100%'; img.style.height='100%'; img.style.objectFit='cover'; img.style.borderRadius='6px'; thumb.appendChild(img);} else { thumb.textContent='NO IMG' }

        const meta = document.createElement('div'); meta.className='meta';
        const t = document.createElement('div'); t.className='title'; t.textContent=item.title;
        const p = document.createElement('div'); p.className='price'; p.textContent=Number(item.price).toLocaleString() + 'ì›';
        meta.appendChild(t); meta.appendChild(p);

        const actions = document.createElement('div'); actions.className='actions';
        const remove = document.createElement('button'); remove.className='btn-light'; remove.textContent='ì‚­ì œ';
        remove.onclick = ()=>{ if(confirm('ì‚­ì œí• ë˜?')){ list = list.filter(x=>x.id!==item.id); save(); render(); } };

        const toCart = document.createElement('button'); toCart.className='btn-red'; toCart.textContent='ì¥ë°”êµ¬ë‹ˆë¡œ â†’';
        toCart.onclick = ()=>{ alert('ì¥ë°”êµ¬ë‹ˆë¡œ ì´ë™í•˜ëŠ” ì‹œë®¬ë ˆì´ì…˜ì…ë‹ˆë‹¤. ì‹¤ì œ ê²°ì œ ê¸°ëŠ¥ì€ êµ¬í˜„ë˜ì–´ ìˆì§€ ì•Šì•„ìš”.'); };

        actions.appendChild(remove); actions.appendChild(toCart);

        row.appendChild(thumb); row.appendChild(meta); row.appendChild(actions);
        el.wishList.appendChild(row);

        if(item.selected) selectedSum += Number(item.price)||0;
      })

      el.totalCount.textContent = out.length;
      el.count.textContent = out.length;
      el.sum.textContent = selectedSum.toLocaleString();
    }

    // ì´ë²¤íŠ¸
    el.addBtn.addEventListener('click', ()=>{
      const title = el.inputTitle.value.trim();
      const price = el.inputPrice.value.trim().replace(/[^0-9]/g,'');
      const img = el.inputImg.value.trim();
      if(!title){ alert('ìƒí’ˆëª…ì„ ì…ë ¥í•´ì¤˜!'); el.inputTitle.focus(); return; }
      const item = { id: uid(), title, price: price?Number(price):0, img: img||'', created: Date.now() };
      list.unshift(item);
      save(); render();
      el.inputTitle.value=''; el.inputPrice.value=''; el.inputImg.value='';
    });

    el.clearBtn.addEventListener('click', ()=>{ if(confirm('ì •ë§ ì „ì²´ ì‚­ì œ?')){ list=[]; save(); render(); } });
    el.sortSelect.addEventListener('change', render);
    el.searchInput.addEventListener('input', ()=>{ render(); });

    // ë°ëª¨ ì•„ì´í…œ ëª‡ ê°œ (ì´ˆê¸° ë¡œë“œì‹œì—ë§Œ ì¶”ê°€)
    if(list.length===0){
      list = [
        {id:uid(), title:'í•‘í¬ ì†œì‚¬íƒ• í‚¤ë§', price:8900, img:'', created:Date.now()-1000*60*60},
        {id:uid(), title:'ë ˆë“œ í•˜íŠ¸ ìŠ¤í‹°ì»¤íŒ©', price:4500, img:'', created:Date.now()-1000*60*60*24},
        {id:uid(), title:'ë¹ˆí‹°ì§€ í¬ìŠ¤í„°', price:12000, img:'', created:Date.now()-1000*60*10},
      ];
      save();
    }

    render();

    // í‚¤ë³´ë“œ ì—”í„°ë¡œ ì¶”ê°€
    [el.inputTitle, el.inputPrice, el.inputImg].forEach(inp=>inp.addEventListener('keydown', (e)=>{ if(e.key==='Enter'){ el.addBtn.click(); } }));

  </script>
</body>
</html>